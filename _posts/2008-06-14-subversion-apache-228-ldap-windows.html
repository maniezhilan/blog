---
layout: post
title: Subversion apache 2.2.8 LDAP windows active directory
date: '2008-06-14T19:26:00.000-05:00'
author: Maniezhilan shanmugam
tags:
- subversion
modified_time: '2012-09-02T00:53:38.016-05:00'
blogger_id: tag:blogger.com,1999:blog-5289317672382806955.post-6367985909412168040
blogger_orig_url: http://maniezhilan.blogspot.com/2008/06/subversion-apache-228-ldap-windows.html
---

<script src="http://crux-framework-tools.googlecode.com/svn/trunk/misc/highlight/highlightLoader.js">type='text/javascript' </script>I setup subversion by integrating with apache2.2.8. I also used the windows active directory for authentication. I did the following steps on the windows machine.<br />1.Downloaded and installed subversion( version 1.5).<br />2.Downloaded and installed apache2.2.8<br />3.Copy all dll's and modules from subversion/bin directory to the apache2.2 /modules directory<br />4.Load the following modules by editing apache/conf/httpd.conf<br />LoadModule dav_module modules/mod_dav.so<br />LoadModule dav_svn_module modules/mod_dav_svn.so<br />LoadModule ldap_module modules/mod_ldap.so<br />LoadModule authnz_ldap_module modules/mod_authnz_ldap.so (note: authnz and not authz as earlier releases of apache)<br />5.Restart apache server.(If complains about loading modules check these following platform specific notes else conveniently ignore the following)<br /><br />6.If all is well create svn repository <br />svnadmin create C:\svn\repositories<br />7.Edit apache/conf/httpd.conf to add the repository location information and your windows active directory details.<br /><br /><pre name="code" class="brush:xml">&lt;Location /svn&gt;<br />DAV svn<br />SVNParentPath C:/svn/repositories<br /># Disables Path Checking<br />SVNPathAuthz off<br /># Display available Repos<br />SVNListParentPath on<br />Allow from all<br />SetHandler ldap-status<br /><br />AuthType Basic<br />AuthBasicProvider ldap<br />AuthzLDAPAuthoritative off<br />AuthName "some meaningful name"<br /><br />AuthLDAPBindDN "usersgroup@companyname.com"<br />AuthLDAPBindPassword <br />AuthLDAPURL "ldap://companyname.com:3268/DC=companyname,DC=com?  sAMAccountName?   sub?(objectClass=*)"<br />require valid-user<br />&lt;/Location&gt;<br /></pre><br />8.Save the http.conf and restart the apache.<br />9.Access the subversion using the url http://yourmachinename/svn<br />10.The browser will prompt for login. Login using your credentials and access the subversion.<br /><br />If interested in active directory and new spring security 2.0.4 read<br /><a href='http://maniezhilan.blogspot.com/2008/10/spring-security-204-with-active.html'>Spring Security with AD</a><br /><br />Notes: If your login failed check your apache error log file.<br />Most common errors you may see are<br />1.auth_ldap authenticate: user butters authentication failed; URI /svn/ [LDAP: ldap_simple_bind_s() failed][Invalid Credentials]<br />to resolve the above try to talk with your windows active directory administrator and find out about the port info like 389 or 3286 should be used etc...<br />2.[ldap_search_ext_s() for user failed][Operations Error]<br />this error is good sign your able to connect to win AD but not able to find the user.<br />since win AD does not allow anonymous binding make sure you have the correct  AuthLDAPBindDN<br />AuthLDAPBindPassword info.